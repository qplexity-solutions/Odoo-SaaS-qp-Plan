<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="tamo_employee_checkout_page.HrAttendanceCardLayout" t-inherit="hr_attendance.HrAttendanceCardLayout" t-inherit-mode="extension" owl="1">
        <xpath expr="//div[contains(@t-attf-class, 'o_hr_attendance_kiosk_mode')]" position="replace">
            <t t-set="checked_in" t-value="false" />
            <t t-if="widget.employee">
                <t t-set="checked_in" t-value="widget.employee.attendance_state=='checked_in'" />
            </t>
            <t t-elif="widget.employee_id and widget.employee_state">
                <t t-set="checked_in" t-value="widget.employee_state=='checked_in'"/>
            </t>
            <t t-if="checked_in and widget.last_check_in">
                <div t-attf-class="o_hr_attendance_kiosk_mode flex-grow-1 flex-md-grow-0 card pb-3 px-0 px-lg-5 row flex-row {{kioskModeClasses ? kioskModeClasses : '' }}">
                    <div class="col-3 p-0">
                        <div class="mt-3 mb-3">
                            <strong>Last Check In</strong>
                            <br />
                            <span t-out="widget.last_check_in" />
                        </div>
                        <div class="mt-3 mb-3">
                            <strong>Assigned Project</strong>
                            <br />
                            <t t-foreach="widget.assigned_projects" t-as="project" t-key="project">
                                <span t-out="project" class="badge rounded-pill o_tag d-inline-flex align-items-center mw-100 text-wrap text-bg-secondary" /><br />
                            </t>
                        </div>
                    </div>
                    <div class="card-body d-flex flex-column p-0 p-md-4 col-6">
                        <t t-out="bodyContent"></t>
                    </div>
                    <div class="col-3 p-0">
                        <div class="mt-3 mb-3">
                            <strong>Total Holidays</strong>
                            <br />
                            <span t-out="widget.total_holidays" /><span> Days</span>
                        </div>
                        <div class="mt-3 mb-3">
                            <strong>Total Overtime</strong>
                            <br />
                            <span t-out="widget.total_overtime" />
                        </div>
                    </div>
                </div>
            </t>
            <t t-else="">
                <div t-attf-class="o_hr_attendance_kiosk_mode flex-grow-1 flex-md-grow-0 card pb-3 px-0 px-lg-5 {{kioskModeClasses ? kioskModeClasses : '' }}">
                    <div class="card-body d-flex flex-column p-0 p-md-4">
                        <t t-out="bodyContent"></t>
                    </div>
                </div>
            </t>
        </xpath>
    </t>

</templates>
