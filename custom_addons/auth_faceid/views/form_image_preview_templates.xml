<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="faceid_button" name="Faceid Auth Login buttons">
            <div class="faceid_auth_provider text-center" id="camera-faceid">
                <!-- loader button -->
                <a id="faceid-loader" style="display: flex;" class="list-group-item py-2">
                    <div style="width:40px;justify-content: center;flex: 1;">
                        <svg version="1.1"
                            xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="40px" height="40px" viewBox="0 0 40 40" enable-background="new 0 0 40 40">
                            <path opacity="0.2" fill="#875A7B" d="M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946
                                s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634
                                c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"/>
                            <path fill="#875A7B" d="M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0
                                C22.32,8.481,24.301,9.057,26.013,10.047z">
                                <animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 20 20" to="360 20 20" dur="0.5s" repeatCount="indefinite"/>
                            </path>
                        </svg>
                    </div>
                </a>
                <!-- success button -->
                <div id="faceid-success" style="display:none">
                    <div class="faceid-btn noselect">
                        <span class='text'>Face recognition</span>
                        <i class="fa fa-camera icon" style="font-size: 1.5em;transition: 300ms;"/>
                    </div>
                </div>

            </div>
            <div id="outer">
                <video id="video" autoplay="autoplay"></video>
                <link id="snap" class="btn btn-primary">Snap shot</link>
                <canvas id="canvas"></canvas>
                <img id="screenshot-img"></img>
            </div>
        </template>

        <template id="loginfaceid" inherit_id="web.login" name="OAuth Login buttons">
            <!-- Add button faceid -->
            <xpath expr="//div[hasclass('field-login')]" position="after">
                <t t-call="auth_faceid.faceid_button"/>
            </xpath>

            <!-- Hide password login -->

            <xpath expr="//input[@id='password']/.." position="replace">
                <t t-if="faceid and not faceid['faceid_hide_login']">
                    <div class="mb-3">
                        <label for="password" class="form-label">Password</label>
                        <input type="password" placeholder="Password" name="password" id="password" t-attf-class="form-control #{'form-control-sm' if form_small else ''}" required="required" autocomplete="current-password" t-att-autofocus="'autofocus' if login else None" maxlength="4096"/>
                    </div>
                </t>
            </xpath>

            <xpath expr="//*[starts-with(@t-attf-class, 'clearfix oe_login_buttons')]" position="replace">
                <t t-if="faceid and not faceid['faceid_hide_login']">
                    <div t-attf-class="clearfix oe_login_buttons text-center gap-1 d-grid mb-1 {{'pt-2' if form_small else 'pt-3'}}">
                        <button type="submit" class="btn btn-primary">Log in</button>
                        <t t-if="debug">
                            <button type="submit" name="redirect" value="/web/become" class="btn btn-link btn-sm">Log in as superuser</button>
                        </t>
                        <div class="o_login_auth"/>
                    </div>
                </t>
            </xpath>

        </template>

    </data>
</odoo>