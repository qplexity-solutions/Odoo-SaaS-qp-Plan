<odoo>
    <record id="paperformat_employee_working_information_report" model="report.paperformat">
        <field name="name">employee_working_information_report</field>
        <field name="default" eval="True"/>
        <field name="format">A4</field>
        <field name="orientation">Portrait</field>
        <field name="page_height">0</field>
        <field name="page_width">0</field>
        <field name="margin_top">10</field>
        <field name="margin_bottom">0</field>
        <field name="margin_left">10</field>
        <field name="margin_right">10</field>
        <field name="header_spacing">50</field>
        <field name="dpi">90</field>
    </record>
    <record id="action_report_employee_working_information_report" model="ir.actions.report">
        <field name="name">Zeiterfassung</field>
        <field name="model">employee.working.information.report.wizard</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">employee_working_information_report.information_report</field>
        <field name="report_file">employee_working_information_report.information_report</field>
        <field name="binding_model_id" ref="model_employee_working_information_report_wizard"/>
        <field name="binding_type">report</field>
        <field name="paperformat_id" ref="employee_working_information_report.paperformat_employee_working_information_report"/>
    </record>
    <template id="employee_working_information_report_header">
        <div class="header">
            <div class="o_clean_header">
                <div class="row" style="font-family:'Roboto',sans-serif">
                    <div class="col-4">
                        <img t-if="o.env.company.logo" t-att-src="image_data_uri(o.env.company.logo)" alt="Logo"
                        />
                    </div>
                    <div class="col-4"/>
                    <div class="col-4" name="company_address" style="font-size:10px; text-align:right;">
                        <ul class="list-unstyled">
                            <strong>
                                <li t-if="o.env.company.name">
                                    <span t-field="o.env.company.name"/>
                                </li>
                            </strong>
                            <li t-if="o.env.company.street">
                                <span t-field="o.env.company.street"/>
                            </li>
                            <li t-if="o.env.company.street2">
                                <span t-field="o.env.company.street2"/>
                                <span t-field="o.env.company.city"/>
                            </li>
                            <li t-if="o.env.company.country_id">
                                <span t-field="o.env.company.country_id.name"/>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </template>
    <template id="employee_working_information_report_footer">
        <div class="footer">
            <div class="text-center" style="border-top: 1px solid black;">
                <ul class="list-inline mb4">
                    <div t-field="o.env.company.report_footer"/>
                </ul>
            </div>
        </div>
    </template>
    <template id="information_report">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <!--                <t t-call="employee_working_information_report.employee_working_information_report_header"/>-->
                <!--                <t t-call="employee_working_information_report.employee_working_information_report_footer"/>-->
                <t t-call="web.basic_layout">
                    <t t-foreach="records" t-as="employee">
                        <div class="page">
                            <!-- Header -->
                            <div class="row" style="font-family:'Roboto',sans-serif">
                                <div class="col-4">
                                    <img t-if="o.env.company.logo" t-att-src="image_data_uri(o.env.company.logo)" alt="Logo"

                                    />
                                </div>
                                <div class="col-4"/>
                                <div class="col-4" name="company_address" style="font-size:10px; text-align:right;">
                                    <ul class="list-unstyled">
                                        <strong>
                                            <li t-if="o.env.company.name">
                                                <span t-field="o.env.company.name"/>
                                            </li>
                                        </strong>
                                        <li t-if="o.env.company.street">
                                            <span t-field="o.env.company.street"/>
                                        </li>
                                        <li t-if="o.env.company.street2">
                                            <span t-field="o.env.company.street2"/>
                                            <span t-field="o.env.company.city"/>
                                        </li>
                                        <li t-if="o.env.company.country_id">
                                            <span t-field="o.env.company.country_id.name"/>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <!-- Header Ends Here -->
                            <hr/>
                            <div class="row">
                                <div class="col-5">
                                    <!-- Info Table -->
                                    <div class="row">
                                        <div class="col-12">
                                            <table class="table table-condensed">
                                                <thead>
                                                    <tr>
                                                        <th>
                                                            <span t-esc="employee['employee'].name"/>
                                                        </th>
                                                        <th style="text-align: right;">
                                                            <span t-esc="employee['employee'].sudo().barcode"/>
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <th colspan="2">
                                                            <span t-esc="employee['employee'].sudo().resource_calendar_id.name"/>
                                                        </th>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <!-- Info Table Ends Here -->
                                    <hr/>
                                    <!-- Holidays Count Table -->
                                    <div class="row">
                                        <div class="col-12">
                                            <table class="table table-condensed">
                                                <tbody>
                                                    <t t-foreach="employee['employee_data_datails']" t-as="obj">
                                                        <tr>

                                                            <td>Zugewiesene Feiertage
                                                                <span t-esc="obj['current']"/>
                                                            </td>
                                                            <td style="text-align: right;">
                                                                <span t-esc="obj['current_year_total_entitlement']"/>
                                                            </td>
                                                        </tr>

                                                    <tr>
                                                        <td>Bezogene Feiertage
                                                            <span t-esc="obj['current']"/>
                                                        </td>
                                                        <td style="text-align: right;">
                                                            <span t-esc="obj['current_year_total_taken_holidays']"/>
                                                        </td>
                                                    </tr>

                                                    <tr style="border-top: 2px solid;">
                                                        <th>Aktuelles Urlaubssaldo</th>
                                                        <th style="text-align: right;">
                                                            <span t-esc="obj['remaining_holidays']"/>
                                                        </th>
                                                    </tr>
                                                    </t>
                                                    <!--                                                    <tr>-->
                                                    <!--                                                        <td>Ferientage Übertrag-->
                                                    <!--                                                            <span t-esc="employee['previous_year']"/>-->
                                                    <!--                                                        </td>-->
                                                    <!--                                                        <td style="text-align: right;">-->
                                                    <!--                                                            <span t-esc="employee['previous_year_remaining_holidays']"/>-->
                                                    <!--                                                        </td>-->
                                                    <!--                                                    </tr>-->
                                                    <!--                                                    <tr>-->
                                                    <!--                                                        <td>Ferienguthaben-->
                                                    <!--                                                            <span t-esc="employee['current_year']"/>-->
                                                    <!--                                                        </td>-->
                                                    <!--                                                        <td style="text-align: right;">-->
                                                    <!--                                                            <span t-esc="employee['current_year_total_entitlement']"/>-->
                                                    <!--                                                        </td>-->
                                                    <!--                                                    </tr>-->
                                                    <!--                                                    <tr style="border-top: 2px solid;">-->
                                                    <!--                                                        <th>Feriensaldo-->
                                                    <!--                                                            <span t-esc="employee['current_year']"/>-->
                                                    <!--                                                        </th>-->
                                                    <!--                                                        <th style="text-align: right;">-->
                                                    <!--                                                            <span t-esc="employee['total_entitlement']"/>-->
                                                    <!--                                                        </th>-->
                                                    <!--                                                    </tr>-->
                                                    <!--                                                    <tr>-->
                                                    <!--                                                        <td>Bezogene Ferien-->
                                                    <!--                                                            <span t-esc="employee['current_year']"/>-->
                                                    <!--                                                        </td>-->
                                                    <!--                                                        <td style="text-align: right;">-->
                                                    <!--                                                            <span t-esc="employee['total_taken_holidays']"/>-->
                                                    <!--                                                        </td>-->
                                                    <!--                                                    </tr>-->
                                                    <!--                                                    <tr style="border-top: 2px solid;">-->
                                                    <!--                                                        <th>Restsaldo-->
                                                    <!--                                                            <span t-esc="employee['current_year']"/>-->
                                                    <!--                                                        </th>-->
                                                    <!--                                                        <th style="text-align: right;">-->
                                                    <!--                                                            <span t-esc="employee['remaining_holidays']"/>-->
                                                    <!--                                                        </th>-->
                                                    <!--                                                    </tr>-->
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <!-- Holidays Count Table Ends Here -->
                                    <hr/>
                                    <!-- Holidays Details Table -->
                                    <div class="row">
                                        <div class="col-12">
                                            <t t-set="total_holidays" t-value="0"/>
                                            <table class="table table-condensed">
                                                <thead>
                                                    <tr>
                                                        <th>Ferienbezug </th>
                                                        <th class="text-center">Tage Total</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <t t-foreach="employee['employee_data_datails']" t-as="holi">
                                                        <t t-foreach="holi['approved_holidays_details']" t-as="holiday">
                                                        <tr>
                                                            <td>
                                                                <span t-esc="holiday['from_date']"/>
                                                                -
                                                                <span t-esc="holiday['to_date']"/>
                                                            </td>
                                                            <td style="text-align: right;">
                                                                <span t-esc="holiday['days']"/>
                                                                <t t-set="total_holidays" t-value="total_holidays+holiday['days']"/>
                                                            </td>
                                                        </tr>
                                                        </t>
                                                    </t>
                                                </tbody>
                                                <tfoot>
                                                    <t t-foreach="employee['employee_data_datails']" t-as="obj">
                                                    <tr>
                                                        <th>Bezogene Ferien
                                                            <span t-esc="obj['current']"/>
                                                        </th>
                                                        <th style="text-align: right;">
                                                            <span t-esc="total_holidays"/>
                                                        </th>
                                                    </tr>
                                                    </t>
                                                </tfoot>
                                            </table>
                                        </div>
                                    </div>
                                    <!-- Holidays Details Table Ends Here -->
                                    <hr/>
                                    <!-- Sick Leaves Details Table -->
                                    <div class="row">
                                        <div class="col-12">
                                            <t t-set="total_sick_leaves" t-value="0"/>
                                            <table class="table table-condensed">
                                                <thead>
                                                    <tr>
                                                        <th>Abwesenheit</th>
                                                        <th class="text-center">Tage Total</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <t t-foreach="employee['employee_data_datails']" t-as="obj">
                                                    <t t-foreach="obj['approved_sick_leaves_details']" t-as="sick_leave">
                                                        <tr>
                                                            <td>
                                                                <span t-esc="sick_leave['from_date']"/>
                                                                -
                                                                <span t-esc="sick_leave['to_date']"/>
                                                                (<span t-esc="sick_leave['description']"/>)
                                                            </td>
                                                            <td style="text-align: right;">
                                                                <span t-esc="sick_leave['days']"/>
                                                                <t t-set="total_sick_leaves" t-value="total_sick_leaves+sick_leave['days']"/>
                                                            </td>
                                                        </tr>
                                                    </t>
                                                    </t>
                                                </tbody>
                                                <tfoot>
                                                    <tr>
                                                        <th>Total Abwesenheit</th>
                                                        <th style="text-align: right;">
                                                            <span t-esc="total_sick_leaves"/>
                                                        </th>
                                                    </tr>
                                                </tfoot>
                                            </table>
                                        </div>
                                    </div>
                                    <!-- Sick Leaves Details Table Ends Here -->
                                </div>
                                <div class="col-1"/>
                                <div class="col-6">
                                    <!-- Yearly Table -->
                                    <div class="row">
                                        <div class="col-12">
                                            <table class="table table-condensed table-striped">
                                                <thead>
                                                    <tr>
                                                        <th>Stundensaldo</th>
                                                        <!--                                                        <th class="text-center">Soll</th>-->
                                                        <th class="text-center">Geleistete Stunden</th>
                                                        <th class="text-center">Überzeit</th>
                                                        <th class="text-center">Überzeit Saldo</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
<!--                                                    <tr>-->
<!--                                                        <th colspan="5">Ubertrag Std.-->
<!--                                                            <span t-esc="employee['transfer_data_year']"/>-->
<!--                                                            =-->
<!--                                                            <span t-esc="employee['transfer_data']"/>-->
<!--                                                        </th>-->
<!--                                                    </tr>-->
                                                    <t t-foreach="employee['yearly_hours_details']" t-as="month">
                                                        <t t-set="twh_style" t-value="month['twh_style']"/>
                                                        <t t-set="wh_style" t-value="month['wh_style']"/>
                                                        <t t-set="eh_style" t-value="month['eh_style']"/>
                                                        <t t-set="ehb_style" t-value="month['ehb_style']"/>
                                                        <tr>
                                                            <td>
                                                                <span t-esc="month['month']"/>
                                                            </td>
<!--                                                                                                                        <td class="text-center">-->
<!--                                                                                                                            <span t-esc="month['total_working_hours']"/>-->
<!--                                                                                                                        </td>-->
                                                            <td class="text-center">
                                                                <span t-esc="month['worked_hours']" t-att-style="wh_style"/>
                                                            </td>
                                                            <td class="text-center">
                                                                <span t-esc="month['extra_hours']" t-att-style="eh_style"/>
                                                            </td>
                                                            <td style="text-align: right;">
                                                                <span t-esc="month['extra_hours_balance']" t-att-style="ehb_style"/>
                                                            </td>
                                                        </tr>
                                                    </t>
                                                    <!-- Add more rows as needed -->
                                                </tbody>
                                            </table>
                                            <hr/>
                                            <!--                                            <h5>Extrastunden <span t-esc="'{0:02.0f}:{1:02.0f}'.format(*divmod(employee['employee'].total_overtime * 60, 60))"/></h5>-->
                                            <p style="font-weight: bolder;">Extrastunden
                                                <t t-set="total_overtime_style" t-value="'color:black;'"/>
                                                <t t-if="abs(employee['employee'].total_overtime) >= 60">
                                                    <t t-set="total_overtime_style" t-value="'color:red; font-weight:bolder;'"/>
                                                </t>
                                                <span t-esc="employee['employee'].total_overtime"
                                                      t-options='{"widget": "float_time"}'
                                                      t-att-style="total_overtime_style"
                                                />
                                                <br/>
                                                <t t-if="employee['employee'].total_overtime &gt;= 60">
                                                    <span style="color: red; font-weight: bolder;">Achtung hohes Überzeit Saldo</span>
                                                </t>
                                                <t t-elif="employee['employee'].total_overtime &lt; -59">
                                                    <span style="color: red; font-weight: bolder;">Achtung tiefes Überzeit Saldo</span>
                                                </t>
                                                <t t-else="">
                                                    <span style="color: red; font-weight: bolder;"></span>
                                                </t>

                                            </p>
                                        </div>
                                    </div>
                                    <!-- Yearly Table Ends Here -->
                                    <hr/>
                                    <!-- Time Offs Table -->
<!--                                    <div class="row">-->
<!--                                        <div class="col-12">-->
<!--                                            <t t-set="total_time_off_hours" t-value="0"/>-->
<!--                                            <table class="table table-condensed">-->
<!--                                                <thead>-->
<!--                                                    <tr>-->
<!--                                                        <th>Kompensationen</th>-->
<!--                                                        <th style="text-align: right;">Total Std.</th>-->
<!--                                                    </tr>-->
<!--                                                </thead>-->
<!--                                                <tbody>-->
<!--                                                    <t t-foreach="employee['time_offs_details']" t-as="time_off">-->
<!--                                                        <tr>-->
<!--                                                            <td>-->
<!--                                                                <span t-esc="time_off['from_date']"/>-->
<!--                                                                - -->
<!--                                                                <span t-esc="time_off['to_date']"/>-->
<!--                                                            </td>-->
<!--                                                            <td style="text-align: right;">-->
<!--                                                                <span t-esc="time_off['hours']"/>-->
<!--                                                                <t t-set="total_time_off_hours" t-value="total_time_off_hours+time_off['hours']"/>-->
<!--                                                            </td>-->
<!--                                                        </tr>-->
<!--                                                    </t>-->
<!--                                                </tbody>-->
<!--                                                <tfoot>-->
<!--                                                    <tr>-->
<!--                                                        <th>Total Kompensationen</th>-->
<!--                                                        <th style="text-align: right;">-->
<!--                                                            <span t-esc="total_time_off_hours"/>-->
<!--                                                        </th>-->
<!--                                                    </tr>-->
<!--                                                </tfoot>-->
<!--                                            </table>-->
<!--                                        </div>-->
<!--                                    </div>-->
                                    <!-- Time Offs Table Ends Here -->


                                </div>
                            </div>
                            <!-- Footer -->

                            <!-- Footer Ends Here -->
                        </div>
                    </t>
                    <!-- Define CSS styles -->
                    <style>
                        .page {
                        font-family: Arial, sans-serif;
                        margin: 0px;
                        font-size:11px;
                        page-break-after: always
                        }
                        table {
                        width: 100%;
                        border-collapse: collapse;
                        }
                        th, td {
                        border: 1px solid #dddddd;
                        padding: 6px;
                        text-align: left;
                        }
                        th {
                        background-color: #f2f2f2;
                        }
                        .footer {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        font-weight: bolder;
        font-size: 14px !important;
        page-break-before: always; /* Forces footer to the next page if needed */
    }
    .footer .content {
        text-align: center;
        border-top: 1px solid black;
        padding-top: 10px;
    }
                    </style>
                </t>
            </t>
        </t>
    </template>

</odoo>